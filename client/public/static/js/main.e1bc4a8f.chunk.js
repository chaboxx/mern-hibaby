(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(18),r=n.n(c),l=n(7),o=n(4),s=n(3),i=n(6),u=n.n(i),j=n(14),d=n(5),b=n.n(d),h=n(11),O=n.n(h);O.a.config();var g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/admin/api/",p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=(b.a.create(),"".concat(g).concat(e));return"GET"===n?fetch(a):fetch(a,{method:n,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(g).concat(e),c=localStorage.getItem("token");return"GET"===n?fetch(a):fetch(a,{node:"no-cors",method:n,headers:{"x-token":c},body:t})},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(g).concat(e),c=localStorage.getItem("token");return"GET"===n?fetch(a):fetch(a,{method:n,body:JSON.stringify(t),headers:{"Content-Type":"application/json","x-token":c}})},v=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("auth/login",{user_admin:t,"contrase\xf1a_admin":n},"POST");case 2:return a=e.sent,e.next=5,a.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),localStorage.setItem("uid",c.uid),localStorage.setItem("name",c.name),console.log(c.token)):console.log("ERROR");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=n(24),S=n(13),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(s.a)(t,2),c=n[0],r=n[1],l=function(){r(e)},o=function(e){var t=e.target;r(Object(S.a)(Object(S.a)({},c),{},Object(f.a)({},t.name,t.value)))};return[c,o,l]},y=n(0),C=function(){Object(o.g)();var e=N({user_admin:"","contrase\xf1a_admin":""}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=n.user_admin,r=n.contrase\u00f1a_admin;return Object(y.jsx)("div",{className:"container tex-center",style:{maxWidth:"450px"},children:Object(y.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),v(c,r)},children:[Object(y.jsx)("input",{className:"form form-control mt-3",name:"user_admin",type:"text",value:c,placeholder:"Usuario",onChange:a}),Object(y.jsx)("input",{className:"form form-control mt-3",name:"contrase\xf1a_admin",type:"password",value:r,onChange:a,placeholder:"Contrase\xf1a"}),Object(y.jsx)("input",{className:"btn btn-danger mt-2 text-center",type:"submit",value:"Enviar"})]})})},T=n(17),k=n(20),_=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("new",t,"POST");case 2:return n=e.sent,e.next=5,n.body;case 5:e.sent.ok&&console.log("Producto Creado");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=N({nombre:"",categoriaGeneral:"",descripcion:"",materiales:"",sku:"",linkStore:"",precio_mayor:"",precio:"",categoria:""}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=n.nombre,l=n.categoriaGeneral,o=n.descripcion,i=n.materiales,d=n.sku,b=n.linkStore,h=n.precio_mayor,O=n.precio,g=n.categoria,p=Object(a.useState)([]),m=Object(s.a)(p,2),x=(m[0],m[1],Object(a.useState)("")),v=Object(s.a)(x,2),f=(v[0],v[1],Object(a.useState)("")),S=Object(s.a)(f,2),C=S[0],E=(S[1],Object(a.useState)(new Array(0))),I=Object(s.a)(E,2),P=I[0],G=I[1],D=Object(a.useState)(new Array(0)),w=Object(s.a)(D,2),R=w[0],M=w[1],A=Object(a.useState)([]),F=Object(s.a)(A,2),V=F[0],W=F[1],U=Object(a.useState)(0),H=Object(s.a)(U,2),K=(H[0],H[1],Object(a.useState)([])),L=Object(s.a)(K,2),B=L[0],J=L[1],z=Object(a.useState)([]),Q=Object(s.a)(z,2),X=Q[0],q=Q[1],Y=Object(a.useState)([]),Z=Object(s.a)(Y,2),$=(Z[0],Z[1],Object(a.useState)([])),ee=Object(s.a)($,2),te=(ee[0],ee[1],Object(a.useState)(1)),ne=Object(s.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)([]),le=Object(s.a)(re,2),oe=le[0],se=le[1],ie=function(e,t){W([].concat(Object(T.a)(V),[{posicion:t,valor:e.target.value}]))},ue=function(e,t,n){for(var a=R,c=[],r=0;r<a.length;r++)void 0!==a[r]?c[r]=a[r]:c[r]=[];e.target.checked?c[t][n]=e.target.value:c[t].splice(n,1),M(c)},je=function(e,t,n){console.log(e.target.disabled),console.log(P);for(var a=[],c=P,r=0;r<c.length;r++)void 0!==c[r]?a[r]=c[r]:a[r]=[];console.log(a),a[t][n]=e.target.value,G(a)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{className:"bg-danger",children:"Crear Producto"}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=new FormData,a=[],c=Object(k.a)(V);try{for(c.s();!(t=c.n()).done;){var s=t.value;a.push(s)}}catch(D){c.e(D)}finally{c.f()}for(var u=[],j=0,p=a;j<p.length;j++){var m=p[j];u[m.posicion]=m.valor}for(var x=0,v=u;x<v.length;x++){var f=v[x];n.append("genero",f)}var S,N=Object(k.a)(X);try{for(N.s();!(S=N.n()).done;){var y=S.value;n.append("coloresb",y)}}catch(D){N.e(D)}finally{N.f()}for(var T=0;T<B.length;T++)for(var E=0;E<R[T].length;)n.append("tallasb[".concat(T,"]"),R[T][E]),E+=1;for(var I=0;I<B.length;I++)for(var G=0;G<P[I].length;)n.append("stock[".concat(I,"]"),P[I][G]),G+=1;n.append("nombre",r),n.append("categoriaGeneral",l),n.append("descripcion",o),n.append("materiales",i),n.append("genero",C),n.append("sku",d),n.append("linkStore",b),n.append("precioMayor",h),n.append("precio",O),n.append("categoria",g),_(n)},encType:"multipart/form-data",className:"row",children:[Object(y.jsxs)("div",{className:"col-8",style:{border:"1px solid black"},children:[Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Nombre:"}),Object(y.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre",value:r,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Categoria general:"}),Object(y.jsx)("input",{type:"text",name:"categoriaGeneral",placeholder:"Categoria General",value:l,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Descripcion:"}),Object(y.jsx)("input",{type:"text",name:"descripcion",placeholder:"Descripcion",value:o,onChange:c,width:"100px"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Materiales:"}),Object(y.jsx)("input",{type:"text",name:"materiales",placeholder:"Materiales",value:i,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Sku:"}),Object(y.jsx)("input",{type:"text",name:"sku",placeholder:"Sku",value:d,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Link Tienda:"}),Object(y.jsx)("input",{type:"text",name:"linkStore",placeholder:"linkStore",value:b,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"Precio:"}),Object(y.jsx)("input",{type:"number",name:"precio",value:O,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Precio por mayor:"}),Object(y.jsx)("input",{type:"number",name:"precio_mayor",placeholder:"Precio",value:h,onChange:c}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{color:"red"},className:"m-2",children:"Categoria:"}),Object(y.jsx)("input",{type:"text",name:"categoria",placeholder:"Categoria",value:g,onChange:c}),Object(y.jsx)("br",{})]}),Object(y.jsxs)("div",{className:"col-4 pt-3 ml-3",children:[Object(y.jsx)("p",{children:"A\xf1adir Modelo al Producto :"}),Object(y.jsx)("button",{onClick:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:return e.next=4,ce(ae+1);case 4:return M([].concat(Object(T.a)(R),[Array(ae-R.length)])),G([].concat(Object(T.a)(P),[Array(ae-R.length)])),e.next=8,J([].concat(Object(T.a)(B),[B.length+1]));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{display:"flex",justifyContent:"center",margin:"10px auto",backgroundSize:"80px"},className:"btn btn-primary mt-5",children:"+"})]}),B.map((function(e){return Object(y.jsxs)("div",{className:"row mt-4 mb-3",style:{border:"1px solid blue"},children:[Object(y.jsxs)("div",{className:"col-4",children:[Object(y.jsx)("input",{onChange:function(e){e.preventDefault(),q([].concat(Object(T.a)(X),[e.target.files[0]]));var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=function(){se([].concat(Object(T.a)(oe),[t.result]))}},type:"file"}),Object(y.jsx)("img",{src:oe[e-1],className:"img-fluid"})]}),Object(y.jsxs)("div",{className:"col-8",children:[Object(y.jsx)("span",{style:{color:"blue"},className:"m-2",children:"Genero:"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"Femenino:"}),Object(y.jsx)("input",{type:"radio",name:"genero-".concat(e),value:"Femenino",onChange:function(t){return ie(t,e-1)},className:"m-2"}),Object(y.jsx)("span",{style:{color:"red"},children:"Masculino:"}),Object(y.jsx)("input",{type:"radio",name:"genero-".concat(e),value:"Masculino",onChange:function(t){return ie(t,e-1)},className:"m-2"}),Object(y.jsx)("span",{style:{color:"red"},children:"Unisex:"}),Object(y.jsx)("input",{type:"radio",name:"genero-".concat(e),value:"Unisex",onChange:function(t){return ie(t,e-1)},className:"m-2"}),Object(y.jsx)("br",{}),Object(y.jsx)("p",{children:"Tallas:"}),Object(y.jsx)("span",{style:{color:"red"},children:"(0-6)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(0-6)M",onChange:function(t){return ue(t,e-1,0)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",0),onChange:function(t){return je(t,e-1,0)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(6-12)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(6-12)M",onChange:function(t){return ue(t,e-1,1)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",1),onChange:function(t){return je(t,e-1,1)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(12-24)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(12-24)M",onChange:function(t){return ue(t,e-1,2)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",2),onChange:function(t){return je(t,e-1,2)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(24-36)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(24-36)M",onChange:function(t){return ue(t,e-1,3)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",3),onChange:function(t){return je(t,e-1,3)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(36-48)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(36-48)M",onChange:function(t){return ue(t,e-1,4)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",4),onChange:function(t){return je(t,e-1,4)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(48-60)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(48-60)M",onChange:function(t){return ue(t,e-1,5)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",5),onChange:function(t){return je(t,e-1,5)}}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"(60-72)M"}),Object(y.jsx)("input",{type:"checkbox",name:"tallas-".concat(e),value:"(60-72)M",onChange:function(t){return ue(t,e-1,6)}}),Object(y.jsx)("input",{type:"number",name:"stock-".concat(e,"-",6),onChange:function(t){return je(t,e-1,6)}}),Object(y.jsx)("br",{})]})]},e)})),Object(y.jsx)("input",{className:"btn btn-primary",type:"submit"})]})})]})};O.a.config();b.a.create();var I=function(e){var t=e.match.params,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],l=c[1],o=t.producto,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/",u={"x-token":localStorage.getItem("token")};return Object(a.useEffect)((function(){b.a.post("".concat(i,"admin/api/ver"),{productoId:o},{headers:u}).then((function(e){l([e.data.productoSolo])})).catch((function(e){return console.log(e)}))}),[o]),console.log(r),Object(y.jsx)("div",{className:"container mt-4",children:r.map((function(e){return Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-5",children:[Object(y.jsx)("h4",{className:"text-center",children:e.nombre}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row mt-3",children:[Object(y.jsxs)("div",{className:"col-5",children:[Object(y.jsxs)("p",{children:["Precio x Mayor: ",e.precioMayor]}),Object(y.jsxs)("p",{children:["Precio: ",e.precio]})]}),Object(y.jsxs)("div",{className:"col-7",children:["DESCRIPCION:",Object(y.jsx)("br",{}),e.descripcion]})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-6",children:["Categoria General: ",e.categoriaGeneral]}),Object(y.jsxs)("div",{className:"col-6",children:["Categoria: ",e.categoria[0]]})]}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{children:["Stock Total : ",e.stockTotal]})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{children:["Materiales :",Object(y.jsx)("br",{}),e.materiales.map((function(e){return Object(y.jsx)("p",{children:e})}))]})})]}),Object(y.jsx)("div",{className:"col-7",children:e.colores.map((function(e){return Object(y.jsxs)("div",{className:"row mt-4",children:[Object(y.jsx)("div",{className:"col-4",children:Object(y.jsx)("img",{src:e.urlImagenes[0],width:"100%",height:"100%"})}),Object(y.jsxs)("div",{className:"col-8",children:[Object(y.jsxs)("div",{children:["Genero: ",e.genero]}),Object(y.jsx)("div",{children:e.tallas.map((function(e){return Object(y.jsxs)("div",{className:"text-center m-2",children:["Talla: ",e.nombreTalla,Object(y.jsx)("br",{}),"Stock: ",e.stock,Object(y.jsx)("hr",{})]})}))})]})]})}))})]})}))})},P=(n(80),function(){return Object(y.jsx)("aside",{children:Object(y.jsxs)("nav",{children:[Object(y.jsx)(l.b,{to:"/admin-api/users",children:"Usuarios"}),Object(y.jsx)(l.b,{to:"/admin-api/productos",children:"Productos"})]})})}),G=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t),e.next=3,m(n,{},"DELETE");case 3:e.sent,console.log("PRODUCTO ELIMINADO");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=n(21),w=n.n(D);w.a.setAppElement("#root");var R=n(34);n(90);O.a.config();var M=function(){var e=b.a.create(),t=(localStorage.getItem("uid"),localStorage.getItem("token")),n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/",c=Object(a.useState)([]),r=Object(s.a)(c,2),o=r[0],i=r[1];e.get("".concat(n,"admin/api/"),{headers:{"x-token":t}}).then((function(e){i(e.data.productos)})),console.log(o);var u=Object(a.useState)(""),j=Object(s.a)(u,2),d=j[0],h=j[1],O=Object(a.useState)(""),g=Object(s.a)(O,2),p=g[0],m=g[1],x=Object(a.useState)({value:"",label:""}),v=Object(s.a)(x,2),f=v[0],S=v[1],N=Object(a.useState)({value:"",label:""}),C=Object(s.a)(N,2),T=C[0],k=C[1],_=o.map((function(e){return{label:e.categoriaGeneral,value:e.categoriaGeneral}}));_=[{label:"Categoria General",value:""}].concat(_);var E=[];_=_.filter((function(e,t){return-1===E.indexOf(e.value)&&(E.push(e.value),!0)}));var I=o.map((function(e){return{label:e.categoria[0],value:e.categoria[0]}}));I=[{label:"Categoria",value:""}].concat(I);var D=[];I=I.filter((function(e,t){return-1===D.indexOf(e.value)&&(D.push(e.value),!0)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("nav",{className:"row",children:Object(y.jsx)(P,{className:"m-3"})}),Object(y.jsxs)("div",{className:"container mt-4",children:[Object(y.jsx)("h1",{style:{fontWeight:"450px"},children:"ProductScreen"}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{children:Object(y.jsx)("h1",{})}),Object(y.jsxs)("div",{className:"row m-3",children:[Object(y.jsxs)("div",{className:"col-4",children:[Object(y.jsx)("span",{style:{color:"#ffb81c",fontFamily:"Montserrat,sans-serif",fontSize:"22.5px"},children:"Nombre:"})," ",Object(y.jsx)("input",{type:"text",value:d,name:"Categoria",onChange:function(e){e.preventDefault(),h(e.target.value)}})]}),Object(y.jsxs)("div",{className:"col-3",children:[Object(y.jsx)("span",{children:"Stock Total:"})," ",Object(y.jsx)("input",{type:"number",value:p,name:"Precio",onChange:function(e){e.preventDefault(),m(e.target.value)}})]})]}),Object(y.jsxs)("div",{className:"row mt-3",children:[Object(y.jsx)(l.b,{className:"col-2 mb-3 btn-dark",to:"/admin-api/productos/crear-producto",children:"Crear+"}),Object(y.jsx)(l.b,{className:"col-2 mb-3 btn-primary",to:"/admin-api/ventas",children:"Ventas"})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("button",{className:"btn btn-danger",children:"Anterior"}),Object(y.jsx)("button",{className:"btn btn-primary",children:"Siguiente"})]}),Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)(R.a,{className:"col-6",placeholder:"Categoria General",value:_.value,onChange:function(e){S(e)},options:_}),Object(y.jsx)(R.a,{className:"col-6",placeholder:"Categoria",value:I.value,onChange:function(e){k(e)},options:I})]})}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"row m-3",children:Object(y.jsxs)("table",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:" Nombre: "}),Object(y.jsx)("td",{children:" Categoria General: "}),Object(y.jsx)("td",{children:" Categoria: "}),Object(y.jsx)("td",{children:" Precio x mayor: "}),Object(y.jsx)("td",{children:" Precio: "}),Object(y.jsx)("td",{children:" Descripcion: "}),Object(y.jsx)("td",{children:" Stock total: "}),Object(y.jsx)("td",{children:" Imagen: "}),Object(y.jsx)("td",{children:"Opciones:"})]}),(0===f.value.length&&0===d.length&&0===p.length&&0===T.value.length?o:0===f.value.length&&0!==d.length&&0!==p.length&&0===T.value.length?o.filter((function(e){return e.nombre.includes(d)&&parseInt(p)===e.stockTotal})):0===f.value.length&&0!==d.length&&0!==p.length&&0!==T.value.length?o.filter((function(e){return e.nombre.includes(d)&&parseInt(p)===e.stockTotal&&T.value==e.categoria[0]})):0!==f.value.length&&0===d.length&&0!==p.length&&0===T.value.length?o.filter((function(e){return(e.categoriaGeneral=f.value)&&parseInt(p)===e.stockTotal})):0!==f.value.length&&0===d.length&&0!==p.length&&0!==T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&parseInt(p)===e.stockTotal&&T.value==e.categoria[0]})):0!==f.value.length&&0!==d.length&&0===p.length&&0===T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&e.nombre.includes(d)})):0!==f.value.length&&0!==d.length&&0===p.length&&0!==T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&e.nombre.includes(d)&&T.value==e.categoria[0]})):0!==f.value.length&&0===d.length&&0===p.length&&0===T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value})):0!==f.value.length&&0===d.length&&0===p.length&&0!==T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&T.value==e.categoria[0]})):0!==f.value.length&&0===d.length&&0!==p.length&&0===T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&parseInt(p)===e.stockTotal})):0!==f.value.length&&0===d.length&&0!==p.length&&0!==T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&parseInt(p)===e.stockTotal&&T.value==e.categoria[0]})):0!==f.value.length&&0!==d.length&&0===p.length&&0===T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&e.nombre.includes(d)})):0!==f.value.length&&0!==d.length&&0===p.length&&0!==T.value.length?o.filter((function(e){return e.categoriaGeneral==f.value&&e.nombre.includes(d)&&T.value==e.categoria[0]})):0===f.value.length&&0!==d.length&&0===p.length&&0===T.value.length?o.filter((function(e){return e.nombre.includes(d)})):0===f.value.length&&0!==d.length&&0===p.length&&0!==T.value.length?o.filter((function(e){return e.nombre.includes(d)&&T.value==e.categoria[0]})):0===d.length&&0===p.length&&0===f.value.length&&0!==T.value.length?o.filter((function(e){return e.categoria[0]==T.value})):0===d.length&&0!==p.length&&0===f.value.length&&0===T.value.length?o.filter((function(e){return parseInt(p)===e.stockTotal})):o.filter((function(e){return e.categoriaGeneral==f.value&&e.nombre.includes(d)&&parseInt(p)===e.stockTotal}))).map((function(e){return Object(y.jsxs)("tr",{className:"fila-tabla-productos",children:[Object(y.jsx)("td",{children:Object(y.jsx)(l.b,{to:"/admin-api/productos/ver/".concat(e.id),children:e.nombre})}),Object(y.jsx)("td",{children:e.categoriaGeneral}),Object(y.jsx)("td",{children:e.categoria}),Object(y.jsx)("td",{children:e.precioMayor}),Object(y.jsx)("td",{children:e.precio}),Object(y.jsx)("td",{children:e.descripcion}),Object(y.jsx)("td",{children:e.stockTotal}),Object(y.jsx)("td",{children:Object(y.jsx)("img",{width:"50px",height:"50px",src:e.colores[0].urlImagenes[0]})}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return t=e.id,void G(t);var t},className:"btn btn-danger",children:"Eliminar Producto"})})]})}))]})})]})]})},A=function(){var e=b.a.create(),t=localStorage.getItem("name"),n=localStorage.getItem("token"),c=Object(a.useState)([]),r=Object(s.a)(c,2),l=r[0],o=r[1],i=[];Object(a.useEffect)((function(){e.get("http://localhost:4000/admin/api/auth/",{headers:{"x-token":n}}).then((function(e){o(e.data.usuario)}))}),[t]);var u,j=Object(k.a)(l);try{for(j.s();!(u=j.n()).done;){var d=u.value;t===d.user_admin&&i.push(d)}}catch(h){j.e(h)}finally{j.f()}return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(P,{}),Object(y.jsx)("h1",{children:"UserScreen"}),Object(y.jsx)("hr",{}),i.map((function(e){return Object(y.jsxs)("div",{className:"container row",children:[Object(y.jsx)("div",{className:"card col-7",children:Object(y.jsx)("img",{className:"img-fluid",src:"http://localhost:4000/assets/miFoto.jpg",alt:"Card image cap"})}),Object(y.jsx)("div",{className:"card-body col-5",children:Object(y.jsx)("h5",{className:"card-title",children:e.user_admin})})]})}))]})};O.a.config();var F=b.a.create(),V=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/",t=localStorage.getItem("token"),n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],l=c[1];return F.get("".concat(e,"admin/api/ver-ventas"),{headers:{"x-token":t}}).then((function(e){l(e.data.ventas)})),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{children:"Resumen Ventas"}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"mt-3",children:r.map((function(e){return Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-8",children:[Object(y.jsxs)("p",{children:["Fecha venta : ",e.fechaVenta]}),Object(y.jsxs)("p",{children:["Cantidad vendida :",e.cantidadVendida]}),Object(y.jsxs)("p",{children:["Id color vendido : ",e.colorProductoVendido._id]}),Object(y.jsxs)("p",{children:["Id talla vendida : ",e.tallaProductoVendido._id]})]}),Object(y.jsx)("div",{className:"col-4",children:Object(y.jsx)("img",{className:"img-fluid",src:e.colorProductoVendido.urlImagenes[0]})}),Object(y.jsx)("hr",{})]})}))})]})};O.a.config();var W=b.a.create(),U=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/",t=localStorage.getItem("token"),n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],o=c[1];W.get("".concat(e,"admin/api/"),{headers:{"x-token":t}}).then((function(e){return o(e.data.productos)}));var i=Object(a.useState)(""),u=Object(s.a)(i,2),j=u[0],d=u[1],b=Object(a.useState)(""),h=Object(s.a)(b,2),O=h[0],g=h[1],p=Object(a.useState)({value:"",label:""}),m=Object(s.a)(p,2),x=m[0],v=(m[1],Object(a.useState)({value:"",label:""})),f=Object(s.a)(v,2),S=f[0],N=(f[1],r.map((function(e){return{label:e.categoriaGeneral,value:e.categoriaGeneral}})));N=[{label:"Categoria General",value:""}].concat(N);var C=[];N=N.filter((function(e,t){return-1===C.indexOf(e.value)&&(C.push(e.value),!0)}));var T=r.map((function(e){return{label:e.categoria[0],value:e.categoria[0]}}));T=[{label:"Categoria",value:""}].concat(T);var k=[];T=T.filter((function(e,t){return-1===k.indexOf(e.value)&&(k.push(e.value),!0)}));return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{children:"VentasScreen"}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row m-3",children:[Object(y.jsxs)("div",{className:"col-4",children:[Object(y.jsx)("span",{style:{color:"#ffb81c",fontFamily:"Montserrat,sans-serif",fontSize:"22.5px"},children:"Nombre:"})," ",Object(y.jsx)("input",{type:"text",value:j,name:"Categoria",onChange:function(e){e.preventDefault(),d(e.target.value)}})]}),Object(y.jsxs)("div",{className:"col-3",children:[Object(y.jsx)("span",{children:"Stock Total:"})," ",Object(y.jsx)("input",{type:"number",value:O,name:"Precio",onChange:function(e){e.preventDefault(),g(e.target.value)}})]})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("p",{children:"Que vendiste hoy ?"}),Object(y.jsx)(l.b,{to:"/admin-api/ventas/resumen/hoy",children:"Resumen Ventas"}),Object(y.jsxs)("table",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:" Nombre: "}),Object(y.jsx)("td",{children:" Categoria General: "}),Object(y.jsx)("td",{children:" Categoria: "}),Object(y.jsx)("td",{children:" Id: "}),Object(y.jsx)("td",{children:" Precio x mayor: "}),Object(y.jsx)("td",{children:" Precio: "}),Object(y.jsx)("td",{children:" Stock total: "}),Object(y.jsx)("td",{children:" Imagen: "})]}),(0===x.value.length&&0===j.length&&0===O.length&&0===S.value.length?r:0===x.value.length&&0!==j.length&&0!==O.length&&0===S.value.length?r.filter((function(e){return e.nombre.includes(j)&&parseInt(O)===e.stockTotal})):0===x.value.length&&0!==j.length&&0!==O.length&&0!==S.value.length?r.filter((function(e){return e.nombre.includes(j)&&parseInt(O)===e.stockTotal&&S.value==e.categoria[0]})):0!==x.value.length&&0===j.length&&0!==O.length&&0===S.value.length?r.filter((function(e){return(e.categoriaGeneral=x.value)&&parseInt(O)===e.stockTotal})):0!==x.value.length&&0===j.length&&0!==O.length&&0!==S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&parseInt(O)===e.stockTotal&&S.value==e.categoria[0]})):0!==x.value.length&&0!==j.length&&0===O.length&&0===S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&e.nombre.includes(j)})):0!==x.value.length&&0!==j.length&&0===O.length&&0!==S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&e.nombre.includes(j)&&S.value==e.categoria[0]})):0!==x.value.length&&0===j.length&&0===O.length&&0===S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value})):0!==x.value.length&&0===j.length&&0===O.length&&0!==S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&S.value==e.categoria[0]})):0!==x.value.length&&0===j.length&&0!==O.length&&0===S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&parseInt(O)===e.stockTotal})):0!==x.value.length&&0===j.length&&0!==O.length&&0!==S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&parseInt(O)===e.stockTotal&&S.value==e.categoria[0]})):0!==x.value.length&&0!==j.length&&0===O.length&&0===S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&e.nombre.includes(j)})):0!==x.value.length&&0!==j.length&&0===O.length&&0!==S.value.length?r.filter((function(e){return e.categoriaGeneral==x.value&&e.nombre.includes(j)&&S.value==e.categoria[0]})):0===x.value.length&&0!==j.length&&0===O.length&&0===S.value.length?r.filter((function(e){return e.nombre.includes(j)})):0===x.value.length&&0!==j.length&&0===O.length&&0!==S.value.length?r.filter((function(e){return e.nombre.includes(j)&&S.value==e.categoria[0]})):0===j.length&&0===O.length&&0===x.value.length&&0!==S.value.length?r.filter((function(e){return e.categoria[0]==S.value})):0===j.length&&0!==O.length&&0===x.value.length&&0===S.value.length?r.filter((function(e){return parseInt(O)===e.stockTotal})):r.filter((function(e){return e.categoriaGeneral==x.value&&e.nombre.includes(j)&&parseInt(O)===e.stockTotal}))).map((function(e){return Object(y.jsxs)("tr",{className:"",children:[Object(y.jsx)("td",{children:Object(y.jsx)(l.b,{to:"/admin-api/ventas/".concat(e.id),children:e.nombre})}),Object(y.jsx)("td",{children:e.categoriaGeneral}),Object(y.jsx)("td",{children:e.categoria}),Object(y.jsx)("td",{children:e.id}),Object(y.jsx)("td",{children:e.precioMayor}),Object(y.jsx)("td",{children:e.precio}),Object(y.jsx)("td",{children:e.stockTotal}),Object(y.jsx)("td",{children:Object(y.jsx)("img",{width:"50px",height:"50px",src:e.colores[0].urlImagenes[0]})})]})}))]})]})]})},H=(n(101),function(e){var t=e.productoId,n=e.colorId,c=e.data,r=e.cerrarModal,l=Object(a.useState)([t]),o=Object(s.a)(l,2),i=o[0],d=(o[1],Object(a.useState)([n])),b=Object(s.a)(d,2),h=b[0],O=(b[1],Object(a.useState)([])),g=Object(s.a)(O,2),p=g[0],m=g[1],v=Object(a.useState)([]),f=Object(s.a)(v,2),S=f[0],N=f[1],C=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.getItem("token"),n={idProductoVenta:i,idColoresVenta:h,idTallas:p,numeroVentas:S},console.log("=>>>>>=",n),e.next=6,x("new-venta",n,"POST");case 6:return a=e.sent,e.next=9,a.body;case 9:e.sent.ok?console.log("Venta hecha"):console.log("error");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"modal_ventas mb-5 mt-2",children:[Object(y.jsx)("button",{onClick:function(){return r()},className:"btn btn-danger",children:"X"}),Object(y.jsx)("h5",{className:"text-center pb-0",children:"Cuanto vendiste hoy ?"}),Object(y.jsxs)("table",{className:"mt-1",children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Talla:"}),Object(y.jsx)("td",{children:"Stock:"})]}),c.tallas.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{children:[e.nombreTalla,Object(y.jsx)("input",{onChange:function(n){return function(e,t,n){var a=p;e.target.checked?a[n]=t:a=a.filter((function(e){return e!==t})),m(a)}(n,e._id,t)},type:"checkbox",value:e.nombreTalla})]}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{onChange:function(e){return function(e,t){var n=S;n[t]=e.target.value,N(n)}(e,t)},type:"number",placeholder:e.stock})})]})})),Object(y.jsx)("button",{onClick:C,className:"btn btn-primary mt-3 text-center",children:"Guardar Venta"})]})]})});O.a.config();var K=function(e){var t=e.match.params,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],l=c[1],o=t.producto,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORTPETICIONES||"http://localhost:4000/",u={"x-token":localStorage.getItem("token")};b.a.post("".concat(i,"admin/api/ver"),{productoId:o},{headers:u}).then((function(e){l([e.data.productoSolo])})).catch((function(e){return console.log(e)}));var j=Object(a.useState)(!1),d=Object(s.a)(j,2),h=d[0],O=d[1],g=Object(a.useState)(null),p=Object(s.a)(g,2),m=p[0],x=p[1],v=function(){O(!1)};return Object(y.jsx)("div",{className:"container",children:r.map((function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:e.nombre}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:e.descripcion}),Object(y.jsxs)("div",{children:["S/",e.precioMayor,Object(y.jsx)("br",{}),"S/",e.precio]})]}),Object(y.jsx)("div",{className:"row",children:e.colores.map((function(e,t){return Object(y.jsxs)("div",{className:"col-3 mt-3",children:[Object(y.jsx)("img",{style:{cursor:"pointer"},onClick:function(){return t=e._id,x(t),void O(!0);var t},src:e.urlImagenes[0],className:"img-fluid pointer"}),Object(y.jsxs)("table",{className:"table table-bordered",children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Talla:"}),Object(y.jsx)("td",{children:"Stock:"})]}),e.tallas.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.nombreTalla}),Object(y.jsx)("td",{children:e.stock})]})}))]}),m===e._id&&!0===h?Object(y.jsx)(H,{productoId:o,colorId:e._id,cerrarModal:v,data:e}):Object(y.jsx)(y.Fragment,{})]})}))})]})}))})},L=function(){return Object(y.jsx)(l.a,{children:Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/users",component:A}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/productos",component:M}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/productos/ver/:producto",component:I}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/productos/crear-producto",component:E}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/ventas",component:U}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/ventas/:producto",component:K}),Object(y.jsx)(o.b,{exact:!0,path:"/admin-api/ventas/resumen/:fecha",component:V}),Object(y.jsx)(o.a,{to:"/admin-api/users"})]})})},B=n(26),J=function(e){var t=e.isAuthenticated,n=e.component,a=Object(B.a)(e,["isAuthenticated","component"]);return Object(y.jsx)(o.b,Object(S.a)(Object(S.a)({},a),{},{component:function(e){return t?Object(y.jsx)(o.a,{to:"/admin-api/users"}):Object(y.jsx)(n,Object(S.a)({},e))}}))},z=function(e){var t=e.isAuthenticated,n=e.component,a=Object(B.a)(e,["isAuthenticated","component"]);return Object(y.jsx)(o.b,Object(S.a)(Object(S.a)({},a),{},{component:function(e){return t?Object(y.jsx)(n,Object(S.a)({},e)):Object(y.jsx)(o.a,{to:"/admin-login"})}}))},Q=function(){var e=localStorage.getItem("uid");return Object(y.jsx)(l.a,{children:Object(y.jsxs)(o.d,{children:[Object(y.jsx)(J,{component:C,path:"/admin-login",isAuthenticated:!!e}),Object(y.jsx)(z,{component:L,path:"/admin-api",isAuthenticated:!!e}),Object(y.jsx)(o.a,{to:"/admin-login"})]})})},X=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Q,{})})};r.a.render(Object(y.jsx)(X,{}),document.getElementById("root"))},80:function(e,t,n){},90:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.e1bc4a8f.chunk.js.map